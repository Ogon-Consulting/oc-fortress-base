<div class="main-container">
  <div class="spinner-menu-bar">
    <div class="spinner-div">
      @if(_testService.showSpinner){
      <mat-progress-spinner mode="indeterminate" color="primary" diameter="47"></mat-progress-spinner>
      <div class="spinner-text">
        {{_testService.spinnerText}}
      </div>
      }
    </div>
    <div class="spinner-div-test-exec">
      @if(_testService.showTestExecutionSpinner){
      <mat-progress-spinner mode="indeterminate" color="primary" diameter="47"></mat-progress-spinner>
      <div class="spinner-text">
        {{_testService.spinnerTestExecutionText}}
      </div>
      }
    </div>
    <div>
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon style="color:black;">menu</mat-icon>
      </button>
    </div>
  </div>
  <div style="display: flex; align-items: center; height: 60px; margin-bottom: 10px;">
    <h2 style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin-left: 10px;">Job History</h2>
    <img src="../../../assets/refresh.svg" (click)="getJobLog()" matTooltip="Refresh History"
      style="cursor: pointer; width: 40px; height: 40px; margin-left: 0.15%; margin-right: 40px;">
  </div>
  <div name="page-content-div">
    <div name="sidenav-div">
      <mat-sidenav-container>
        <mat-sidenav #sidenav mode="push" position="end">
          <a mat-flat-button (click)="_routingService.goToHome();sidenav.close();"><mat-icon>home</mat-icon> Home</a>
          <a mat-flat-button (click)="_testService.refreshProducts();sidenav.close();"><mat-icon>refresh</mat-icon>
            Refresh Products</a>
          <a mat-flat-button (click)="_routingService.routeToHistory();sidenav.close();"><mat-icon>history</mat-icon>
            History</a>
          <a mat-flat-button (click)="_routingService.routeToJobLog();sidenav.close();"><mat-icon>list_alt</mat-icon> Job
            Log</a>
          <a mat-flat-button
            (click)="_routingService.goToScheduleHistory();sidenav.close();"><mat-icon>schedule</mat-icon>Job
            Schedules</a>
          <a mat-flat-button
            (click)="_routingService.goToBundlesList();sidenav.close();"><mat-icon>schedule</mat-icon>Bundles</a>
            <a mat-flat-button
            (click)="_routingService.routeToUserManagement();sidenav.close();"><mat-icon>supervised_user_circle</mat-icon>Manage Users</a>
          <a mat-flat-button (click)="_routingService.goTologin();sidenav.close();"><mat-icon>power_settings_new</mat-icon>
            Logout</a>
        </mat-sidenav>
        <mat-sidenav-content>
          <div name="table-div">
            <table mat-table [dataSource]="_joblogService.dataSource" class="mat-elevation-z8 demo-table" matSort
              (matSortChange)="announceSortChange($event)">
              <ng-container matColumnDef="jobId">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Job ID">Job ID</th>
                <td mat-cell *matCellDef="let element">{{element.jobId}}</td>
              </ng-container>
              <ng-container matColumnDef="product">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Product">Product
                </th>
                <td mat-cell *matCellDef="let element">{{element.product}}</td>
              </ng-container>
              <ng-container matColumnDef="jobStatus">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Job Status">Job
                  Status</th>
                <td mat-cell *matCellDef="let element">{{element.jobStatus}}</td>
              </ng-container>
              <ng-container matColumnDef="initiatedOn">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Initiated On">
                  Initiated On</th>
                <td mat-cell *matCellDef="let element">{{element.initiatedOn}}</td>
              </ng-container>
              <ng-container matColumnDef="completedOn">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Completed On">
                  Completed On</th>
                <td mat-cell *matCellDef="let element">{{element.completedOn}}</td>
              </ng-container>
              <ng-container matColumnDef="initiatedBy">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Initiated By">
                  Initiated By</th>
                <td mat-cell *matCellDef="let element">{{element.initiatedBy}}</td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns"
                style="background-color: rgb(177, 193, 206); font-weight: bold; text-align: center;"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[10,20,50,100]" showFirstLastButtons></mat-paginator>
          </div>
        </mat-sidenav-content>
      </mat-sidenav-container>
    </div>
  </div>
  <div>
  </div>
</div>
